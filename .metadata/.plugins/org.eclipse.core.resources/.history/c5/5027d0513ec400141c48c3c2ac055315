package org.usfirst.frc.team4911.robot.subsystems;

import org.usfirst.frc.team4911.robot.RobotConstants;
import org.usfirst.frc.team4911.robot.RobotMap;

import edu.wpi.first.wpilibj.command.Subsystem;
import edu.wpi.first.wpilibj.Servo;
import edu.wpi.first.wpilibj.CameraServer;

import com.ni.vision.NIVision;
import com.ni.vision.NIVision.Image;

/**
 *
 */
public class CameraSystem extends Subsystem {
    
    private CameraServer server = RobotMap.server;
    private Image frame = RobotMap.frame;
    private int toteSession = RobotMap.toteSession;
    
    public CameraSystem() {
	NIVision.IMAQdxConfigureGrab(RobotConstants.TOTE_SESSION);
    }
    
    public void initDefaultCommand() {
    
    }
    
    public void startServer() {
	server.startAutomaticCapture(RobotConstants.TOTE_CAMERA);
    }
    
    public void start() {
	NIVision.IMAQdxStartAcquisition(RobotConstants.TOTE_SESSION);
    }
    
    public void updateSession() {
	NIVision.IMAQdxGrab(RobotConstants.TOTE_SESSION, frame, 1);
        CameraServer.getInstance().setImage(frame);
    }

    public void stop() {
	NIVision.IMAQdxStopAcquisition(RobotConstants.TOTE_SESSION);
    }
    public CameraServer getServer() {
	return server;
    }
   
}

